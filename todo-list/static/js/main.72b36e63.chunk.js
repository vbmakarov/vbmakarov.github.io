(this["webpackJsonpreact-quizz"]=this["webpackJsonpreact-quizz"]||[]).push([[0],{23:function(e,t,n){e.exports={Drawer:"Drawer_Drawer__3KMYy",close:"Drawer_close__1PukL",activeLink:"Drawer_activeLink__2aLlJ"}},25:function(e,t,n){e.exports={MenuToggle:"MenuToggle_MenuToggle__2ekuf",open:"MenuToggle_open__1AEyR"}},27:function(e,t,n){e.exports={Quiz:"Quiz_Quiz__2NHRR",QuizWrapper:"Quiz_QuizWrapper__2_di9"}},28:function(e,t,n){e.exports={ActiveQuiz:"ActiveQuiz_ActiveQuiz__1TYbY",Question:"ActiveQuiz_Question__3DcTG"}},29:function(e,t,n){e.exports={AnswerItem:"AnswerItem_AnswerItem__3Z0fh",success:"AnswerItem_success__1oG22",error:"AnswerItem_error__3_s-1"}},30:function(e,t,n){e.exports={FinishedQuiz:"FinishedQuiz_FinishedQuiz__2p5ln",success:"FinishedQuiz_success__2dTlS",error:"FinishedQuiz_error__3iVHW"}},31:function(e,t,n){e.exports={Button:"Button_Button__3uckU",success:"Button_success__VJDq2",error:"Button_error__17fIn",primary:"Button_primary__1H_6s"}},32:function(e,t,n){e.exports={Auth:"Auth_Auth__ako7-",AuthForm:"Auth_AuthForm__3Y2ra"}},33:function(e,t,n){e.exports={Input:"input_Input__3tYHu",invalid:"input_invalid__2nJRv"}},42:function(e,t,n){e.exports={Layout:"Layout_Layout__9EmXk"}},43:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__2e9vY"}},45:function(e,t,n){e.exports={AnswersList:"AnswersList_AnswersList__1Ex1g"}},46:function(e,t,n){e.exports={Loader:"Loader_Loader__JUdVW","lds-ripple":"Loader_lds-ripple__VDu-X"}},47:function(e,t,n){e.exports={QuizList:"QuizList_QuizList__21G_x"}},48:function(e,t,n){e.exports={QuizCreator:"QuizCreator_QuizCreator__3IjzZ"}},49:function(e,t,n){e.exports={Select:"Select_Select__1ndvg"}},56:function(e,t,n){},57:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(21),s=n.n(i),o=(n(56),n(57),n(3)),c=n(5),u=n(6),l=n(8),d=n(7),p=n(42),j=n.n(p),h=n(25),b=n.n(h),v=n(0),f=function(e){var t=[b.a.MenuToggle,"fa"];return e.isOpen?(t.push("fa-times"),t.push(b.a.open)):t.push("fa-bars"),Object(v.jsx)("i",{className:t.join(" "),onClick:e.onToggle})},O=n(23),m=n.n(O),x=n(43),g=n.n(x),_=function(e){return Object(v.jsx)("div",{className:g.a.Backdrop,onClick:e.onClick})},z=n(11),w=m.a.activeLink,C=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"renderLinks",value:function(){var e=this;console.log(this.props.isAuthentication);var t=[{to:"/",label:"\u0421\u043f\u0438\u0441\u043e\u043a"}];return this.props.isAuthentication?(t.push({to:"/quiz-creator",label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0435\u0441\u0442"}),t.push({to:"/logout",label:"\u0412\u044b\u0439\u0442\u0438"})):t.push({to:"/auth",label:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),t.map((function(t,n){return Object(v.jsx)("li",{children:Object(v.jsx)(z.c,{to:t.to,className:function(e){return e.isActive?w:void 0},onClick:e.props.onClose,children:t.label})},n)}))}},{key:"render",value:function(){var e=[m.a.Drawer];return this.props.isOpen||e.push(m.a.close),Object(v.jsxs)(a.a.Fragment,{children:[Object(v.jsx)("nav",{className:e.join(" "),children:Object(v.jsx)("ul",{children:this.renderLinks()})}),this.props.isOpen?Object(v.jsx)(_,{onClick:this.props.onClose}):null]})}}]),n}(r.Component),y=n(4),k=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={menu:!1},e.toggleMenuHandler=function(){e.setState({menu:!e.state.menu})},e.menuCloseHandler=function(){e.setState({menu:!1})},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(v.jsxs)("div",{className:j.a.Layout,children:[Object(v.jsx)(C,{isOpen:this.state.menu,onClose:this.menuCloseHandler,isAuthentication:this.props.isAuthentication}),Object(v.jsx)(f,{onToggle:this.toggleMenuHandler,isOpen:this.state.menu}),Object(v.jsx)("main",{children:this.props.children})]})}}]),n}(r.Component);var q=Object(y.b)((function(e){return{isAuthentication:!!e.auth.token}}),null)(k),Q=n(2),S=n(27),A=n.n(S),I=n(28),T=n.n(I),H=n(45),E=n.n(H),L=n(29),F=n.n(L),D=function(e){var t=[F.a.AnswerItem];return e.state&&t.push(F.a[e.state]),Object(v.jsx)("li",{className:t.join(" "),onClick:function(){return e.onAnswerClick(e.answer.id)},children:e.answer.text})},N=function(e){return Object(v.jsx)("ul",{className:E.a.AnswersList,children:e.answers.map((function(t,n){return Object(v.jsx)(D,{state:e.state?e.state[t.id]:null,answer:t,onAnswerClick:e.onAnswerClick},n)}))})},R=function(e){return Object(v.jsxs)("div",{className:T.a.ActiveQuiz,children:[Object(v.jsxs)("p",{className:T.a.Question,children:[Object(v.jsxs)("span",{children:[Object(v.jsxs)("strong",{children:[e.answerNumber,"."]}),"\xa0",e.question]}),Object(v.jsxs)("small",{children:[e.answerNumber," \u0438\u0437 ",e.quizLength]})]}),Object(v.jsx)(N,{state:e.state,answers:e.answers,onAnswerClick:e.onAnswerClick})]})},M=n(30),U=n.n(M),V=n(31),B=n.n(V),Z=function(e){var t=[B.a.Button,B.a[e.type]];return Object(v.jsx)("button",{onClick:e.onClick,className:t.join(" "),disabled:e.disabled,children:e.children})},W=function(e){console.log(e);var t=Object.keys(e.results).reduce((function(t,n){return"success"===e.results[n]&&t++,t}),0);return Object(v.jsxs)("div",{className:U.a.FinishedQuiz,children:[Object(v.jsx)("ul",{children:e.quiz.map((function(t,n){var r=["fa","error"===e.results[t.id]?"fa-times":"fa-check",U.a[e.results[t.id]]];return Object(v.jsxs)("li",{children:[Object(v.jsxs)("strong",{children:[n+1,"."]})," \xa0",t.question,Object(v.jsx)("i",{className:r.join(" ")})]},n)}))}),Object(v.jsxs)("p",{children:["\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e ",t," \u0438\u0437 ",e.quiz.length]}),Object(v.jsxs)("div",{children:[Object(v.jsx)(Z,{onClick:e.onRetry,type:"primary",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c"}),Object(v.jsx)(z.b,{to:"/",children:Object(v.jsx)(Z,{onClick:e.onRetry,type:"success",children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u0441\u043f\u0438\u0441\u043e\u043a \u0442\u0435\u0441\u0442\u043e\u0432"})})]})]})},X=n(46),P=n.n(X),Y=function(e){return Object(v.jsxs)("div",{className:P.a.Loader,children:[Object(v.jsx)("div",{}),Object(v.jsx)("div",{})]})},J=n(18),G=n(12),K=n.n(G),$=n(13),ee=n(22),te=n.n(ee),ne=te.a.create({baseURL:"https://react-quiz-112dd-default-rtdb.firebaseio.com/"}),re="FETCH_QUIZES_START",ae="FETCH_QUIZES_SUCCESS",ie="FETCH_QUIZES_ERROR",se="FETCH_QUIZ_SUCCESS",oe="SET_ANSWER_STATE",ce="SET_ACTIVE_QUESTION",ue="QUIZ_IS_FINISHED",le="RETRY_HANDLER",de="AUTH_SUCCESS",pe="AUTH_LOGOUT";function je(){return{type:re}}function he(e){return{type:se,loading:!1,quiz:e}}function be(e){return{type:ae,quizes:e}}function ve(e){return{type:ie}}function fe(e,t){return{type:oe,answerState:e,results:t}}function Oe(e){return function(t,n){var r=n().quiz;if(r.answerState){var a=Object.keys(r.answerState)[0];if("success"===r.answerState[a])return}var i=r.quiz[r.activeQuestion],s=r.results;if(i.rightAnswerId===e){s[i.id]||(s[i.id]="success"),t(fe(Object(J.a)({},e,"success"),s));var o=window.setTimeout((function(){var e;!function(e){return e.activeQuestion+1===e.quiz.length}(r)?t((e=r.activeQuestion+1,{type:ce,activeQuestion:e})):t({type:ue}),window.clearTimeout(o)}),1e3)}else s[i.id]="error",t(fe(Object(J.a)({},e,"error"),s))}}var me=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.params.fetchQuizById(this.props.params.id)}},{key:"componentWillUnmount",value:function(){this.props.params.quizRetryHandler()}},{key:"render",value:function(){return console.log(this.props.params),Object(v.jsx)("div",{className:A.a.Quiz,children:Object(v.jsxs)("div",{className:A.a.QuizWrapper,children:[Object(v.jsx)("h1",{children:"\u041e\u0442\u0432\u0435\u0442\u044c\u0442\u0435 \u043d\u0430 \u0432\u0441\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u044b"}),this.props.params.loading||!this.props.params.quiz?Object(v.jsx)(Y,{}):this.props.params.isFinished?Object(v.jsx)(W,{results:this.props.params.results,quiz:this.props.params.quiz,onRetry:this.props.params.quizRetryHandler}):Object(v.jsx)(R,{answers:this.props.params.quiz[this.props.params.activeQuestion].answers,question:this.props.params.quiz[this.props.params.activeQuestion].question,onAnswerClick:this.props.params.quizAnswerClick,quizLength:this.props.params.quiz.length,answerNumber:this.props.params.activeQuestion+1,state:this.props.params.answerState})]})})}}]),n}(r.Component);var xe=Object(y.b)((function(e){return{results:e.quiz.results,isFinished:e.quiz.isFinished,activeQuestion:e.quiz.activeQuestion,answerState:e.quiz.answerState,quiz:e.quiz.quiz,loading:e.quiz.loading}}),(function(e){return{fetchQuizById:function(t){return e(function(e){return console.log(e),function(){var t=Object($.a)(K.a.mark((function t(n){var r,a;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(je()),t.prev=1,t.next=4,ne.get("/quizes/".concat(e,".json"));case 4:r=t.sent,a=r.data,console.log(a),n(he(a)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),n(ve(t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))},quizAnswerClick:function(t){return e(Oe(t))},quizRetryHandler:function(){return e({type:le})}}}))((function(e){var t=Object(o.h)();return t=Object(Q.a)(Object(Q.a)({},e),t),Object(v.jsx)(me,{params:t})})),ge=n(47),_e=n.n(ge),ze=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"renderQuizes",value:function(){return this.props.quizes.map((function(e){return Object(v.jsx)("li",{children:Object(v.jsx)(z.c,{to:"/quiz/"+e.id,children:e.name})},e.id)}))}},{key:"componentDidMount",value:function(){this.props.fetchQuizes()}},{key:"render",value:function(){return Object(v.jsx)("div",{className:_e.a.QuizList,children:Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Quiz List"}),this.props.loading&&0===this.props.quizes.length?Object(v.jsx)(Y,{}):Object(v.jsx)("ul",{children:this.renderQuizes()})]})})}}]),n}(r.Component);var we=Object(y.b)((function(e){return{quizes:e.quiz.quizes,loading:e.quiz.loading}}),(function(e){return{fetchQuizes:function(){return e(function(){var e=Object($.a)(K.a.mark((function e(t){var n,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(je()),e.prev=1,e.next=4,ne.get("/quizes.json");case 4:n=e.sent,r=[],Object.keys(n.data).forEach((function(e,t){r.push({id:e,name:"\u0422\u0435\u0441\u0442 \u2116 ".concat(t+1)})})),t(be(r)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t(ve(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}())}}}))(ze),Ce=n(32),ye=n.n(Ce),ke=n(33),qe=n.n(ke);function Qe(e){var t=e.valid,n=e.touched,r=e.shouldValidate;return!t&&n&&r}var Se=function(e){var t=e.type||"text",n=[qe.a.Input],r="".concat(t," - ").concat(Math.random());return Qe(e)&&n.push(qe.a.invalid),Object(v.jsxs)("div",{className:n.join(" "),children:[Object(v.jsx)("label",{htmlFor:r,children:e.label}),Object(v.jsx)("input",{type:t,id:r,value:e.value,onChange:e.onChange}),Qe(e)?Object(v.jsx)("span",{children:e.errorMessage||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0440\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"}):null]})};function Ae(e){return{type:de,token:e}}function Ie(e){return function(t){setTimeout((function(){t(Te())}),1e3*e)}}function Te(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("userId"),{type:pe,token:null}}var He=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={isFormValid:!1,formControls:{email:{value:"",type:"email",label:"Email",errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email",valid:!1,touched:!1,validation:{required:!0,email:!0}},password:{value:"",type:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",valid:!1,touched:!1,validation:{required:!0,minLength:6}}}},e.loginHandler=function(){e.props.auth(e.state.formControls.email.value,e.state.formControls.password.value,!0)},e.registerHandler=function(){e.props.auth(e.state.formControls.email.value,e.state.formControls.password.value)},e.onChangeHandler=function(t,n){var r=Object(Q.a)({},e.state.formControls),a=Object(Q.a)({},r[n]);a.value=t.target.value,a.touched=!0,a.valid=e.validateControl(a.value,a.validation),r[n]=a;var i=!0;Object.keys(e.state.formControls).forEach((function(e){i=r[n].valid&&i})),e.setState({formControls:r,isFormValid:i})},e.submitHandler=function(e){e.preventDefault()},e}return Object(u.a)(n,[{key:"validateControl",value:function(e,t){if(!t)return!0;var n=!0;return t.required&&(n=""!==e.trim()&&n),t.email&&(n=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())&&n),t.minLength&&(n=e.length>=t.minLength&&n),n}},{key:"renderInputs",value:function(){var e=this;return Object.keys(this.state.formControls).map((function(t,n){var r=e.state.formControls[t];return Object(v.jsx)(Se,{type:r.type,value:r.value,valid:r.valid,touched:r.touched,label:r.label,shouldValidate:!!r.validation,errorMessage:r.errorMessage,onChange:function(n){return e.onChangeHandler(n,t)}},t+n)}))}},{key:"render",value:function(){return Object(v.jsx)("div",{className:ye.a.Auth,children:Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),Object(v.jsxs)("form",{onSubmit:this.submitHandler,className:ye.a.AuthForm,children:[this.renderInputs(),Object(v.jsx)(Z,{type:"success",onClick:this.loginHandler,disabled:!this.state.isFormValid,children:"\u0412\u043e\u0439\u0442\u0438"}),Object(v.jsx)(Z,{type:"primary",onClick:this.registerHandler,disabled:!this.state.isFormValid,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})]})})}}]),n}(r.Component);var Ee=Object(y.b)(null,(function(e){return{auth:function(t,n,r){return e(function(e,t,n){return function(){var r=Object($.a)(K.a.mark((function r(a){var i,s,o,c,u;return K.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i={email:e,password:t,returnSecureToken:!0},s="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCsRsRsoAuA7_OT-wfUs0HdbD-HQabXK18",n&&(s="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCsRsRsoAuA7_OT-wfUs0HdbD-HQabXK18"),r.prev=3,r.next=6,te.a.post(s,i);case 6:o=r.sent,c=o.data,console.log(c.idToken),u=new Date((new Date).getTime()+1e3*c.expiresIn),localStorage.setItem("token",c.idToken),localStorage.setItem("expirationDate",u),localStorage.setItem("userId",c.localId),a(Ae(c.idToken)),a(Ie(c.expiresIn)),r.next=19;break;case 17:r.prev=17,r.t0=r.catch(3);case 19:case"end":return r.stop()}}),r,null,[[3,17]])})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))}}}))(He),Le=n(48),Fe=n.n(Le),De=n(49),Ne=n.n(De),Re=function(e){var t="".concat(e.label," - ").concat(Math.random());return Object(v.jsxs)("div",{className:Ne.a.Select,children:[Object(v.jsx)("label",{htmlFor:t,children:e.label}),Object(v.jsx)("select",{id:t,value:e.value,onChange:e.onChange,children:e.options.map((function(e,t){return Object(v.jsx)("option",{value:e.value,children:e.text},e.value+t)}))})]})};function Me(e,t){return Object(Q.a)(Object(Q.a)({},e),{},{validation:t,valid:!t,touched:!1,value:""})}function Ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return!0;var n=!0;return t.required&&(n=""!==e.trim()&&e),n}function Ve(e){var t=!0;for(var n in e)e.hasOwnProperty(n)&&(t=e[n].value&&t);return t}var Be=function(e){return e.children},Ze="CREATE_QUIZ_QUESTION",We="FINISH_ADD_QUIZ",Xe="FINISH_ADD_ERROR";function Pe(e){return Me({label:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 ".concat(e),errorMessage:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c",id:e},{required:!0})}function Ye(){return{question:Me({label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u043e\u043f\u0440\u043e\u0441",errorMessage:"\u0412\u043e\u043f\u0440\u043e\u0441 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"},{required:!0}),option1:Pe(1),option2:Pe(2),option3:Pe(3),option4:Pe(4)}}var Je=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={isFormValid:!1,rightAnswerId:1,formControls:Ye()},e.onSubmitHandler=function(e){e.preventDefault()},e.addQuestionHandler=function(t){t.preventDefault();var n=e.props.quiz.concat().length+1,r=e.state.formControls,a=r.question,i=r.option1,s=r.option2,o=r.option3,c=r.option4,u={question:a.value,id:n,rightAnswerId:e.state.rightAnswerId,answers:[{text:i.value,id:i.id},{text:s.value,id:s.id},{text:o.value,id:o.id},{text:c.value,id:c.id}]};e.props.createQuizQuestion(u),e.setState({isFormValid:!1,rightAnswerId:1,formControls:Ye()})},e.createQuizHandler=function(t){t.preventDefault(),e.props.finishCreateQuiz(),e.setState({isFormValid:!1,rightAnswerId:1,formControls:Ye()})},e.changeHandler=function(t,n){var r=Object(Q.a)({},e.state.formControls),a=Object(Q.a)({},r[n]);a.touched=!0,a.value=t,a.valid=Ue(a.value,a.validation),r[n]=a,e.setState({formControls:r,isFormValid:Ve(r)})},e.renderControls=function(){return Object.keys(e.state.formControls).map((function(t,n){var r=e.state.formControls[t];return Object(v.jsxs)(Be,{children:[Object(v.jsx)(Se,{label:r.label,valid:r.valid,value:r.value,shouldValidate:!!r.validation,touched:r.touched,errorMessage:r.errorMessage,onChange:function(n){return e.changeHandler(n.target.value,t)}}),0===n?Object(v.jsx)("hr",{}):null]},t+n)}))},e.selectChangeHandler=function(t){e.setState({rightAnswerId:+t.target.value})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=Object(v.jsx)(Re,{label:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442",value:this.state.rightAnswerId,onChange:this.selectChangeHandler,options:[{text:1,value:1},{text:2,value:2},{text:3,value:3},{text:4,value:4}]});return Object(v.jsx)("div",{className:Fe.a.QuizCreator,children:Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u0430"}),Object(v.jsxs)("form",{onSubmit:this.onSubmitHandler,children:[this.renderControls(),e,Object(v.jsx)(Z,{type:"primary",onClick:this.addQuestionHandler,disabled:!this.state.isFormValid,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441"}),Object(v.jsx)(Z,{type:"success",onClick:this.createQuizHandler,disabled:0===this.props.quiz.length,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0435\u0441\u0442"})]})]})})}}]),n}(r.Component);var Ge=Object(y.b)((function(e){return{quiz:e.create.quiz}}),(function(e){return{createQuizQuestion:function(t){return e({type:Ze,quiz:t})},finishCreateQuiz:function(){return e(function(){var e=Object($.a)(K.a.mark((function e(t,n){var r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n(),e.next=4,ne.post("/quizes.json",r.create.quiz);case 4:t({type:We}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:Xe});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}())}}}))(Je),Ke=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.logout()}},{key:"render",value:function(){return Object(v.jsx)(o.a,{to:"/"})}}]),n}(r.Component);var $e=Object(y.b)(null,(function(e){return{logout:function(){return e(Te())}}}))(Ke);var et=Object(y.b)((function(e){return{isAuthentication:!!e.auth.token}}),(function(e){return{authLogin:function(){return e((function(e){var t=localStorage.getItem("token");if(console.log(t),t){var n=new Date(localStorage.getItem("expirationDate"));n<=new Date?e(Te()):(e(Ae(t)),e(Ie((n.getTime()-(new Date).getTime())/1e3)))}else e(Te())}))}}}))((function(e){Object(r.useEffect)((function(){e.authLogin()}),[]);var t=Object(v.jsxs)(o.d,{children:[Object(v.jsx)(o.b,{path:"/auth",element:Object(v.jsx)(Ee,{})}),Object(v.jsx)(o.b,{path:"/quiz/:id",element:Object(v.jsx)(xe,{})}),Object(v.jsx)(o.b,{path:"/",element:Object(v.jsx)(we,{})})]});return e.isAuthentication&&(t=Object(v.jsxs)(o.d,{children:[Object(v.jsx)(o.b,{path:"/quiz-creator",element:Object(v.jsx)(Ge,{})}),Object(v.jsx)(o.b,{path:"/quiz/:id",element:Object(v.jsx)(xe,{})}),Object(v.jsx)(o.b,{path:"/",element:Object(v.jsx)(we,{})}),Object(v.jsx)(o.b,{path:"/logout",element:Object(v.jsx)($e,{})}),Object(v.jsx)(o.b,{path:"*",element:Object(v.jsx)(o.a,{to:"/"})})]})),Object(v.jsx)(q,{children:t})})),tt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,85)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),i(e),s(e)}))},nt=n(16),rt={quizes:[],loading:!1,error:null,results:{},isFinished:!1,activeQuestion:0,answerState:null,quiz:null};var at=n(51),it={quiz:[]};var st={token:null};var ot=Object(nt.b)({quiz:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return Object(Q.a)(Object(Q.a)({},e),{},{loading:!0});case ae:return Object(Q.a)(Object(Q.a)({},e),{},{loading:!1,quizes:t.quizes});case se:return Object(Q.a)(Object(Q.a)({},e),{},{loading:!1,quiz:t.quiz});case ie:return Object(Q.a)(Object(Q.a)({},e),{},{loading:!1,error:t.error});case oe:return Object(Q.a)(Object(Q.a)({},e),{},{answerState:t.answerState,results:t.results});case ce:return Object(Q.a)(Object(Q.a)({},e),{},{activeQuestion:t.activeQuestion,answerState:null});case ue:return Object(Q.a)(Object(Q.a)({},e),{},{isFinished:!0});case le:return Object(Q.a)(Object(Q.a)({},e),{},{activeQuestion:0,answerState:null,isFinished:!1,results:{}});default:return e}},create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze:return Object(Q.a)(Object(Q.a)({},e),{},{quiz:[].concat(Object(at.a)(e.quiz),[t.quiz])});case We:return Object(Q.a)(Object(Q.a)({},e),{},{quiz:[]});case Xe:return Object(Q.a)(Object(Q.a)({},e),{},{loading:!1,error:t.error});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return Object(Q.a)(Object(Q.a)({},e),{},{token:t.token});case pe:return Object(Q.a)(Object(Q.a)({},e),{},{token:null});default:return e}}}),ct=n(50),ut="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):nt.c,lt=Object(nt.d)(ot,ut(Object(nt.a)(ct.a))),dt=Object(v.jsx)(y.a,{store:lt,children:Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(z.a,{children:Object(v.jsx)(et,{})})})});s.a.render(dt,document.getElementById("root")),tt()}},[[84,1,2]]]);
//# sourceMappingURL=main.72b36e63.chunk.js.map